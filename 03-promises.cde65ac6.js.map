{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAO,CACXC,MAAOC,SAASC,cAAc,kBAC9BC,KAAMF,SAASC,cAAc,iBAC7BE,OAAQH,SAASC,cAAc,mBAC/BG,KAAMJ,SAASC,cAAc,QAC7BI,SAAUL,SAASC,cAAc,WAG7BK,EAAW,CACfP,MAAO,EACPG,KAAM,EACNC,OAAQ,GAGV,SAASI,EAAcC,GACrBF,EAASE,EAAIC,OAAOC,MAAQC,OAAOH,EAAIC,OAAOG,M,CAIhD,SAASC,EAAcC,EAAUf,GAC/B,IAAMgB,EAAgBC,KAAKC,SAAW,GACpC,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAE7BC,YAAW,WACLN,EACFI,EAAQG,EAAA1B,GAAS2B,OAAOC,QAAQ,uBAAwCC,OAAfX,EAAS,QAAYW,OAAN1B,EAAM,QAE5EqB,EAAKE,EAAA1B,GAAS2B,OAAOG,QAAQ,sBAAqCD,OAAfX,EAAS,QAAYW,OAAN1B,EAAM,O,GAE3EA,E,IAIPD,EAAKC,MAAM4B,iBAAiB,QAASpB,GACrCT,EAAKI,KAAKyB,iBAAiB,QAASpB,GACpCT,EAAKK,OAAOwB,iBAAiB,QAASpB,GAItCT,EAAKO,SAASsB,iBAAiB,SAAS,SAACnB,GACvCA,EAAIoB,iBAEJ,IAAK,IAAIC,EAAI,EAAGA,GAAKvB,EAASH,OAAQ0B,GAAK,EACzChB,EAAcgB,EAAGvB,EAASP,OACvB+B,MAAK,SAAAC,GAAU,IACfC,OAAM,SAAAC,GAAS,IAElB3B,EAASP,OAASO,EAASJ,KAC3BJ,EAAKM,KAAK8B,O","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst refs = {\n  delay: document.querySelector('[name = delay]'),\n  step: document.querySelector('[name = step]'),\n  amount: document.querySelector('[name = amount]'),\n  form: document.querySelector('form'),\n  startBtn: document.querySelector('button')\n}\n\nconst formData = {\n  delay: 0,\n  step: 0,\n  amount: 0,\n}\n\nfunction onInputChange(evt) {\n  formData[evt.target.name] = Number(evt.target.value)\n  // console.log(formData)\n}\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n    return new Promise((resolve, reject) => {   \n\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve(Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`))\n      } else {\n        reject(Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`))\n      }\n    }, delay)\n  })\n}\n\nrefs.delay.addEventListener('input', onInputChange)\nrefs.step.addEventListener('input', onInputChange)\nrefs.amount.addEventListener('input', onInputChange)\n\n\n\nrefs.startBtn.addEventListener('click', (evt) => {\n  evt.preventDefault()\n\n  for (let i = 1; i <= formData.amount; i += 1) {\n    createPromise(i, formData.delay)\n      .then(result => { })\n      .catch(error => { })\n    \n    formData.delay += formData.step;\n    refs.form.reset()\n  }\n})\n\n\n\n\n\n"],"names":["$iU1Pc","parcelRequire","$ce04d3a99e08e73b$var$refs","delay","document","querySelector","step","amount","form","startBtn","$ce04d3a99e08e73b$var$formData","$ce04d3a99e08e73b$var$onInputChange","evt","target","name","Number","value","$ce04d3a99e08e73b$var$createPromise","position","shouldResolve","Math","random","Promise","resolve","reject","setTimeout","$parcel$interopDefault","Notify","success","concat","failure","addEventListener","preventDefault","i","then","result","catch","error","reset"],"version":3,"file":"03-promises.cde65ac6.js.map"}